name: Automated Release
run-name: "${{ inputs.dry_run && 'Dry-run for ' || 'Preform ' }} ${{ inputs.release_type }} release of ${{ github.ref }} branch"

on: 
  workflow_dispatch:
    inputs:
      release_type:
        type: choice
        description: The release type
        options:
          - "major"
          - "minor"
          - "patch"
        default: "minor"
      dry_run:
        description: Perform the release dry-run
        required: true 
        type: boolean
        default: true

permissions:
  contents: write
  actions: read

jobs:
  deprecation-warning:
    runs-on: ubuntu-latest
    steps:
      - name: Show Deprecation Notice
        run: |
          echo "::error::=========================================="
          echo "::error::  This workflow is DEPRECATED"
          echo "::error::=========================================="
          echo "::error::"
          echo "::error::Please use the new workflow:"
          echo "::error::  'Validated Release'"
          echo "::error::"
          echo "::error::Location:"
          echo "::error::  .github/workflows/release-validated.yml"
          echo "::error::"
          echo "::error::The new workflow includes:"
          echo "::error::  - Pre-release test validation (testDebug + testAsan)"
          echo "::error::  - Annotated git tags (fixes GitLab trigger)"
          echo "::error::  - Improved error handling and rollback procedures"
          echo "::error::"
          echo "::error::=========================================="
          exit 1